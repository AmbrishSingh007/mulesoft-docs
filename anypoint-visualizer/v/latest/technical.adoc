= How Anypoint Visualizer Collects Application Data

Anypoint Visualizer collects runtime information from running applications, APIs, and proxies to detect all of its dependencies. The following is a sample of the type of information that's being collected and sent to the control plane, where it is stored encrypted in a database.

----
[
    {
        "env_id": "envId",
        "org_id": "csOrgId",
        "heartbeat": {
            "app_name": "appviz-test",
            "ip": "192.168.1.1",
            "node_id": "i-123",
            "private_ip": "192.168.1.10",
            "type": "MULE",
            "url": "appviz-test.cloudhub.io"
        },
        "events": [
            {
                "destination": {
                    "app_name": "appviz-test",
                    "ip": "192.168.1.1",
                    "node_id": "i-123",
                    "private_ip": "192.168.1.10",
                    "type": "MULE",
                    "url": "appviz-test.cloudhub.io"
                },
                "properties": {
                    "count": "4"
                },
                "source": {
                    "type": "HTTP"
   	“ ip”: <fill me>	
                }
            },
            {
                "destination": {
                    "port": "80",
                    "protocol": "HTTP",
                    "type": "HTTP",
                    "url": "appviz-test-app-3.cloudhub.io"
                },
                "properties": {
                    "count": "4"
                },
                "source": {
                    "app_name": "appviz-test",
                    "ip": "192.168.0.1",
                    "node_id": "i-123",
                    "private_ip": "192.168.1.10",
                    "type": "MULE",
                    "url": "appviz-test.cloudhub.io"
                }
            }
        ]
    }
]
----

== Disable Data Collection for an Application

Specific applications can be excluded from the visualizer by disabling the it's collection of runtime data by configuring the property *anypoint.platform.config.visualizer.agent.enabled=true/false*
