= Introduction to Mule 4: Connectors

In Mule 3, there were two ways of connecting to systems: transports and connectors. Transports used
the concept of inbound and outbound endpoints to send data. Connectors used the concept of operations to invoke
systems, for example, `<http:request>` or `<db:select>`. In Mule 3, MuleSoft started replace some of these
transports through the new HTTP and Database connectors. Mule 4 completes this change by
completely standardizing the approach so that all connectivity is built as connectors. This has
improved the consistency and usability of connectors, as well as enabled more powerful connectors.

== File and FTP Connectors
The File and FTP connectors have been improved so that they are operation-based and share the same set of operations. This enables many new capabilities:

* The ability to read files or fully list directory contents on demand, unlike the old transport (which only provided a polling inbound endpoint).
* Top-level support for common file system operations such as copying, moving, renaming, deleting, creating directories, and more.
* Append to files.
* Support for locking files on the file system level.
* Advanced file matching functionality.
* Support for local files, FTP, and SFTP.

As an example, here is a flow which processes a directory of files and takes different action depending on whether the contents are a file or a folder:

[source,xml,linenums]
----
<flow name="list">
  <file:list directoryPath="~/myFolder" />
  <foreach>
    <choice>
      <when expression="#[attributes.directory]">
        <flow-ref name="processDirectory" />
      </when>
      <otherwise>
        <logger message="Found file #[attributes.path] where content is #[payload]" />
      </otherwise>
    </choice>
  </foreach>
</flow>
----
