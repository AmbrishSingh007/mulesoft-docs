// author: Dan D
= Migration to Mule 4

Explain the scope of this migration guide:
- What version of 3.x can they use this guide to migrate from?
+
Mariano G: 3.8 and 3.9 to 4.x.

Dan D:
- need to highlight migration too will be coming later
- when should I migrate
- how to conceptually think about 3 vs 4

What's covered in this guide:
+
  *   The Mule app, XML only
  *   What else? Studio 7, MQ, API Kit, etc. See below...
+
- Brief list of major changes that affect migration from 3.x to 4.x:
DW 2.0
 * Components and Connectors for 4.x not backwards compatible with 3.x
 * Transports replaced by connectors, gives more power/flexibility
 * etc.
 * See info here:  https://mule4-docs.mulesoft.com/mule-runtime/4.0/tasks~mule-runtime-updates.html

== Need to org these, possibly integrate some into subsections, as below...
 - How to deal with 3.x inbound, outbound, and session properties?
  * How to send data across protocol barriers as session properties did? E.g., should we add this to the HTTP connector example? by specifying it in the output headers
  * Use of variables in 4.0 to save a previous message in a flow. Otherwise it's overwritten when an operation in the flow executes.
  * What to do about 3.x streaming, caching?
  * Zip to JAR packages
  * New app descriptor
  * Dependency management via a POM (Maven)
  * Etc.

Some possible subsections below (from Dan's spreadsheet and others) that could be moved to separate files:

=== Studio 7

* New Palette
* Anything else?
* App config:
**  new way of configuring properties
**  old vs new

== Mule Messages and Flows

Need to familiarize users with the high level changes around the Mule message, properties/attributes, etc.
Example of how you send headers across transport boundaries now / explanation of session properties removal

== Expression language: DW

- new EL is DW
- simpler for many scenarios
- can still invoke MEL via "mel:"
- basic examples of what they can do

== Transformations, data types, and streaming

- new way of thinking about data types
- why you don't need Object to X
- How streaming is handled

== Error Handling

TODO


== Dataweave

- walk user through major changes

== Application Packaging

TODO

== MUnit

TODO
  *   MUnit is automated

== Devkit

From Mariano G: Migration from Devkit to Mule SDK: Steps for using DMT (Dev Migration Tool)

== API Manager

  *   API Manager permissions? See channel amgen-crowd2-upgrade, @evangelina.martinez

== API Gateways

TODO:

== APIkit

Main changes?

== Mule App Deployment?

TODO?


== See Also
- link:index[Migrating to the Mule 4 Runtime]
 *   link:migration-scope[What Changed?]
 *   link:migration-prep[Preparing for the Migration]
 *   link:migration-examples[Migration Examples]
 *   link:migration-processors[Migrating Mule Processors]

////
 * link:migration-connectors[Migrating Core Connectors]
 * link:migration-connectors-noncore[Migrating Non-Core Connectors]
 * link:migration-components[Migrating Components]
 * link:migration-patterns[Migrating Common Features]
 * link:migration-testing[Testing the Migration]
 * link:migration-devkit[Migrating from DevKit to the Mule SDK]
 * link:migration-munit[Migrating Munit]
 * link:migration-other[Other Stuff to Migrate...]
////
