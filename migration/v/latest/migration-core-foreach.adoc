// sme: DF, author: sduke?
= Migrating the For Each Scope

Little changed between For Each scope for Mule 3 and Mule 4 except for the use of DataWeave 2 as the expression language, rather than DataWeave 1 or the Mule Expression Language (MEL).

TODO: MEL AND DATAWEAVE1 TO DW2? NOT CLEAR THAT WE REALLY NEED TO DO MUCH

.Mule 3 example
[source,xml, linenums]
----
<foreach batchSize="10" collection="#[payload.myNode]" counterVariableName="myCounter6" rootMessageVariableName="myRootMessage6">
  <some-nested-element/>
  <some-other-nested-element/>
</foreach>
----

For the Mule 4 example, notice that TODO...

.Mule 4 example
[source,xml, linenums]
----
<foreach collection="#[TODO_TODO]" batchSize="10" rootMessageVariableName="myRootMessage7" counterVariableName="myCounter7">
  <some-nested-element/>
  <some-other-nested-element/>
</foreach>
----

== See Also

link:migration-core-exception-strategies[Migrating Exception Strategies]
link:migration-examples[Migration Examples]
link:migration-dataweave[Migrating from DataWeave 1.0 to 2.x]

////
link:migration-examples[Migration Examples]

link:migration-patterns[Migration Patterns]

link:migration-components[Migrating Components]
////
