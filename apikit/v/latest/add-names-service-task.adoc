= To Add a Service to Get Only User Names

*Documentation for APIkit 4.x*

In this procedure, you add a flow to filter users to get a list of user names. You set up the Transform Message input and output metadata to generate DataWeave code and return results you want.

. Copy and paste the get:/users:api-config flow to create another flow: Select the flow, and then Edit > Copy. Click a blank area of the canvas, and select Edit > Paste.
+
A copy of the flow appears at the bottom of the canvas.
+
. In the copy of the flow, select the HTTP listener component, and in the properties editor, change the Path from /placeholder to */placeholder/names*.
. Drag a Transform Message component from the Mule palette to the right of the HTTP requester.
+
image::transform-msg.png[define metadata]
+
. In Transform Message, in Input, click Define Metadata, and set the metadata:
* Click image:Add-16x16.png[Add-16x16] to create a new type, and give the type an arbitrary name, userlist, for example.
* In Type, select JSON, and then select Example. Browse to the same user-example.json that you downloaded and referenced in the RAML.
+
image::transform-msg2.png[define metadata select file]
+
* Click Select.
. Create a file having a JSON array, which represents the list of names you want in the output: 
+
`["Jane Doe", "John Smith"]`
+
Give the file an arbitrary name, for example names.json.
+
. In Transform Message, in Output, click Define Metadata, and set the metadata:
* Click image:Add-16x16.png[Add-16x16] to create a new type, and give the type an arbitrary name, namelist, for example.
* In Type, select JSON, and then select Example. Browse to names.json.
* Click Select.
. In Transform Message, in Input, drag Name:String to `List<String>` in Output. 
+
DataWeave code is generated.
. In the properties editor, change the output code to specify the application/json mime type instead of application/java:
+
----
%dw 1.0
%output application/json
---
payload.name
----

Next, test the API Implementation.

== See Also

* link:/apikit/test-api-task[To Test the API Implementation]
