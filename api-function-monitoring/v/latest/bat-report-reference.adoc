= BAT Report Reference

Bat can be integrated with differents monitoring systems. In this page you will see the configuration for the use of all this reports.

If you want generate an specific report you have to modify the bat.yaml, in the reporters section (reporters: ) you can add Sumo, New Relic, PagerDuty and Slack.

== SUMO
To use sumo the only thing that is needed is to create a collection and specify it in the bat.yaml, this collection can be shared with other tests or use it only for a monitor, in this way at the end of each execution bat will generate a post to sumo and send all the trade off of request and responses that were executed during the test, this way enables us to see how the test behaves and the results we expect.

For the sumo report the endpoint of the collection is required.

image::sumo-report.png[]

Bat.yam example:

  - file: bat/Reporters/SumoLogic.dwl 
    options:
      SUMO_ENDPOINT: https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1nH-hvpNewI5GSjsyUfU07BnldpFR3VXbea59pGNwAHVMs4FMS2ItsOzklsnLsQLrDS3VXNXLKozhrnL6aFaCAQJt2FHYVy6FkXSZyrRsxSw==

== PagerDuty
Bat has an integration with PagerDuty, which in case of some test fails, generates an incident and triggers the own alerts that are configured. In case a monitor always fails with the same error, bat does not generate a new issue in PD, bat just ignore them.

In the bat.yaml you have to put the Service Key of your integration.

image::pagerduty.png[]

Bat.yaml example:

  - file: bat/Reporters/PagerDuty.dwl
    options:
      SERVICE_KEY: "500718897e474978aaaba7942156b89f"

== Slack
Bat can generate alerts in slack and the integration with slack consists of sending messages to a specific channel through a webhook, previously we would have to create the webhook and in the bat.yaml we would pass as a parameter the url of the webhook. Only notify in case of failure and tell us the name of the suit in which the error occurred.

You can generate the integration in slack following this steps:

In the slack App Directory

image::slack1.png[]

image::slack2-3.png[]

Bat.yaml example:

  - file: bat/Reporters/Slack.dwl
    outFile: output.json
    options:
      SLACK_WEBHOOK: "https://hooks.slack.com/services/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"

== New Relic
Inside new relic bat has a plug in configured, in which receives the metrics of the different suites. In this way you can detect the times of each test and whether or not there is loss of performance. the new relic report needs the NEW_RELIC_LICENSE_KEY with which it will know where to send the metrics.

You can find the new relic license key here:

image::new-relic.png[]

Bat.yaml example:

  - file: bat/Reporters/NewRelic.dwl
    outFile: /dev/null
    options:
      NEW_RELIC_LICENSE_KEY: "xxxxxxxxxxxxxxx"



