= BAT Report Reference

You can configure BAT for use with a number monitoring systems for reporting. For example:

* SUMO
* PagerDuty
* Slack
* New Relic

To generate a specific report you modify the bat.yaml, in the reporters section (reporters: ) you can add Sumo, New Relic, PagerDuty and Slack.

== SUMO
To use SUMO, you create a collection and specify it in the bat.yaml. The collection can be shared with other tests or used only as a monitor. At the end of each execution BAT generates a post to SUMO that sends the trade-off information of requests and responses that were executed during the test. This enables you to see expected results and how the test behaves.

You must provide the endpoint of the collection.

image::sumo-report.png[]

*Bat.yaml Example*

  - file: bat/Reporters/SumoLogic.dwl 
    options:
      SUMO_ENDPOINT: https://endpoint1.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1nH-hvpNewI5GSjsyUfU07BnldpFR3VXbea59pGNwAHVMs4FMS2ItsOzklsnLsQLrDS3VXNXLKozhrnL6aFaCAQJt2FHYVy6FkXSZyrRsxSw==

== PagerDuty

The integration of BAT with PagerDuty generates an incident when a test fails and triggers configured PagerDuty alerts. If a monitor always fails with the same error, BAT does not generate a new issue, but instead ignores these errors.

In the bat.yaml, you have to include the Service Key for the integration.

image::pagerduty.png[]

Bat.yaml example:

  - file: bat/Reporters/PagerDuty.dwl
    options:
      SERVICE_KEY: "500718897e474978aaaba7942156b89f"

== Slack

You can integrate BAT with Slack to generate alerts in slack that sends messages to a specific channel through a webhook. First, you create the webhook, and in the bat.yaml the url of the webhook as a parameter. The alert notification occurs in the case of failure and provides the name of the suite in which the error occurs.

You can generate the integration in slack following these steps:

In the slack App Directory

image::slack1.png[]

image::slack2-3.png[]

Bat.yaml example:

  - file: bat/Reporters/Slack.dwl
    outFile: output.json
    options:
      SLACK_WEBHOOK: "https://hooks.slack.com/services/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"

== New Relic

A BAT plug-in is configured in New Relic that receives the metrics of the different suites. You can detect the times of each test and whether or not there is a loss of performance. The New Relic report needs the NEW_RELIC_LICENSE_KEY to  know where to send the metrics.

The following screenshot shows the location of the license key:

image::new-relic.png[]

Bat.yaml example:

  - file: bat/Reporters/NewRelic.dwl
    outFile: /dev/null
    options:
      NEW_RELIC_LICENSE_KEY: "xxxxxxxxxxxxxxx"



