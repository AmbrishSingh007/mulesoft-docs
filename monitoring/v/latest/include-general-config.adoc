== General Settings

General settings include basic and advanced options for configuring time-series data. Both configuration share fields for the title and a short description.

.Basic and Advanced Mode Settings
image::config-general-common.png[Example: Basic Configuration]

[cols="1,4"]
|===
| Title | Title to display in the UI. Defaults to Panel Title.
| Description | Short description to display in the UI when users hover over the information (`i`) icon.
|===

////
*TODO: VERIFY:* It can contain Markdown and links. If true, SHOW EXs WITH MARKDOWN AND LINKS
////

Other settings are specific to the setting mode (basic or advanced).

=== Basic Settings

Basic settings in the General tab support the display of a single metric for a resource in a given environment.

.Basic Mode
image::config-general.png[Example: Basic Configuration]

[cols="1,4"]
|===

| Metric a|

* CPU
* Heap Usage
* Response Time By App
* Response Time By Inbound Endpoint
* Response Time By Outbound Endpoint
* Messages Processed
| Environment | Your Mule app environments.
| Resource | The Mule app.
|===

////
*TODO: NEED DESCRIPTIONS OF SOME OF THE ABOVE SETTINGS*
////

After you complete your configuration, you can click Save Changes. To exit the configuration _without saving_ and return to the dashboard, simply click the `X`.

=== Advanced Settings

Advanced settings in the General tab support one or more fine-tuned queries for your chart.

It is important to note that an advanced configuration will be partially removed if you switch back to the basic configuration area.

.Advanced Mode
image::config-general-advanced.png[Example: Advanced  Configuration]

[cols="1,4"]
|===

| From | Lists JVM and Mule app properties (such as `jvm.memory` and `app_inbound_metric`) that you can add to your chart. Note that the field provides matching suggestions when you type in a character. For example, `jvm.c` will produce a list of all values that contain those characters (such as `jvm.classloading` and `jvm.cpu.operatingsystem`).
| Where | Supports conditional logic for filtering your selected From data. You can select one or more filters tags (such as `app_id`, `env_id`, `org_id`, `worker_id`). Example: `Where env_id = Sandbox`. Available operators include `=`, `!=`, `<>`, `<`, and `>`. You can also construct a query with multiple filter tags by using  logical `AND` and `OR` operators.
| Select a|
For creating a function that selects a field (such as  `heap_committed`,`heap_total`, or `heap_used`) from you From data (such as `jvm.memory`) and applies an operation to it (such as the `mean` of the `heap_total`). You can add one or more `field` settings.

image::config-general-advanced-select.png[Select Options]
| Group By | *TODO* For grouping the data by a selected time interval (such as `$__interval`, `1s`, `10m`, `1h`), filter tag (such as `tag(env_id)`), and fill options (such as `none`, `null`, `0`, `previous`, `linear`). In addition to filter tags, you can also choose `LIMIT`, `SLIMIT`, `ORDER BY time DESC`.
| Alias By | *TODO* Example: `$tag_worker_id`
|===

////
TODO /QUESTION: CAN YOU DO Regex matching ON WHERE?

To group by a tag, click the plus icon at the end of the GROUP BY row. Pick a tag from the dropdown that appears. You can remove the group by by clicking on the tag and then click on the x icon.

Text Editor Mode (RAW)
You can switch to raw query mode by clicking hamburger icon and then Switch editor mode.

If you use Raw Query be sure your query at minimum have WHERE $timeFilter Also please always have a group by time and an aggregation function, otherwise InfluxDB can easily return hundreds of thousands of data points that will hang the browser.

Alias patterns
$m = replaced with measurement name
$measurement = replaced with measurement name
$col = replaced with column name
$tag_exampletag = replaced with the value of the exampletag tag. The syntax is $tag_yourTagName (must start with $tag_). To use your tag as an alias in the ALIAS BY field then the tag must be used to group by in the query.
You can also use [[tag_hostname]] pattern replacement syntax. For example, in the ALIAS BY field using this text Host: [[tag_hostname]] would substitute in the hostname tag value for each legend value and an example legend value would be: Host: server1.
////


////
*TODO: DESCRIPTIONS NEEDED*: Group By.
*TODO: VALID VALUES NEEDED, explain supported variables, too. MK's notes say "Series Name"*
*TODO: NEED DESCRIPTIONS OF MANY OF THESE SETTINGS*
////

After you complete your configuration, you can click Save Changes. To exit the configuration _without saving_ and return to the dashboard, simply click the `X`.

////
TODO: SEE IF ANY OF THIS COULD GO ABOVE

== Add Series: Advanced Mode

You can configure one or more detailed queries for time-series data.

image:graph-config-advanced.png[Advanced Configuration Options]

.Advanced Query Options
|===
| From | Identifies the source of the data to measure in your graph. For example, you might select Mule app (`app`) or Java virtual machine (`jvm`) data, such as `app_inbound_metric`, `app_outbound_metric`, `jvm.classloading`, `jvm.cpu.operatingsystem`, `jvm.garbagecollector.parnew`, `jvm.memory`, `jvm.runtime`, `jvm.threading`, or one of the many other sources.
| Where | For filtering the source based on a given property (such as the organization ID (`org_id`) or environment ID (`env_id`), or both) to which the metric applies. Operators for the properties are `=`, `!=`, `<>` (less than or greater than, but not equal to), `<`, `>` (for example, `env_id = Sandbox`). Available properties also include `app_id`, `endpoint`, `endpoint_type`, `flow_id`, `org_id`, `response_type`, and `worker_id`.
| Select | For manipulating data in one or more fields, such as `avg_request_count` , `avg_response_time`.
|===

////
