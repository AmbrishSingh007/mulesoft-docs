= Configuring Graphs in a Custom Dashboard

In Anypoint Monitoring, you can configure one or more sets of time-series data. Time-series data simply measures how something changes over time. A graph in a custom dashboard can display a metric for a resource in a given environment.

To configure a graph, you might select a response time or heap usage as the metric to graph for a Mule app in your Design or Sandbox environment. Advanced configuration options allow for more fine-tuned data sets. You can also customize the X and Y axes, the look of the graph, legends, the behavior when you hover over a data point, and more. These options are described in more detail below.

To open a configuration page for a graph, see link:dashboard-custom-config[Configuring Custom Dashboards].

//GENERAL SETTINGS shared by singlestat and graph
//== General
include::include-general-config.adoc[]

== Axes

/TODO

The Axes tab controls the display of axes, grids, and legend. You can have a vertical

Vertical Right Y or Left Y Axis Settings:

[cols="1,4"]
|===
| Show | If unchecked, hides the Y axis from the graph.
| Unit | The display unit for the Y value.  Values include `none`, `currency` (including `Dollars $` or `Real ($)`), `time`, `data`, `data rate` and many others.
| Scale a|

* linear
* log (base 2)
* log (base 10)
* log (base 32)
* log (base 1024)
| Y-Min | The minimum Y value. Defaults to `auto`.
| Y-Max | The maximum Y value. Defaults to `auto`.
| Decimals | *TODO* Defaults to `auto`.
| Label | Label for the Y axis. Defaults to `""`.
|===

=== X-Axis Settings

[cols="1,4"]
|===
| Show | If unchecked, hides the X axis from the graph.
| Mode a|

* Time: Default options The default option. Indicates that x-axis data is divided into time units (for example, hours or minutes).
* Series: Indicates that data divided by series, and the y-axis provides the value of the series data.
* Histogram: Converts the graph into a bar chart that represents collections of data at a specified, numeric intervals (called a buckets or bins), for example, . The higher a bar in a histogram, the greater the frequency (or count) of data collected at that interval.
| Value | Visible only if Series is selected. *TODO: NEED DESCRIPTION*
| Buckets | Visible only if Histogram is selected. Sets the numeric interval at which to collect data.
|===

// Histograms and buckets are described in more detail here.

== Visuals

image::graph-config-visuals.png[Example: Singlestat Visuals]

[cols="1,4"]
|===

| Draw Modes a|

* Bars: Checkbox for representing values as bar charts.
* Lines: Checkbox for representing values as line graphs.
* Points: Checkbox for representing values as data points.
| Mode Options a|

* Fill: On a scale of `0` (none) to `10`, the measure color fill for a series.
* Line Width: The width of the line for a series. *TODO ... measured in what units???*
* Staircase: Checkbox for drawing adjacent points as staircase.
| Hide Series a|

* With Nulls Only: Checkbox for ... *TODO*
* With Only Zeros: Checkbox for ... *TODO*
|===

//ALERTS CONFIG HERE, included via include-alerts.adoc
//== Alerts

include::include-alerts-config.adoc[]

=== Links

*TODO: CLARIFY THIS SENTENCE* Graphs can contain links that appear in the dropdown menu in the panel menu.

.Link Settings
[cols="1,4"]
|===
| Link a|

* Type: Valid values are `dashboard` and `absolute`.
* Dashboard:
* Title
* URL Params
* Include Time Range
* Include Variables
* Open in New Tab
* Remove Link: Button for removing the link.
| Legend |
| Stacking and Hover |
| Threshold | A line or section you can add to a graph to see when a particular threshold (or limit) is crossed.
| Time Range Shift a|
  * Override Relative Time:  *TODO* Last period of time (for example, `1h`).
  * Add Time Shift: *TODO*
  * Hide Time Override Info: *TODO*
|===

=== Legends

Graphs can contain legends.

image::graph-advanced-legend.png[Advanced Graph Settings: Legend]

.Legend Option Settings
[cols="1,4"]
|===
| Show  | Unchecking hide the legend. Checked by default.
| As Table | Checking displays the legend in a table. Unchecked by default.
| To the Right | Checking display the legend to the right side. Unchecked by default.
| Width | Available when To the Right is checked. Sets the minimum width for the legend. Defaults to `0`. *TODO: UNIT OF MEASURE*
|===

You can also display these values can be shown beside the legend names:

.Legend Values
[cols="1,4"]
|===
| Min | Minimum of all values returned from the query.
| Max | Maximum of all values returned from the query.
| Avg | Average of all values returned from the query.
| Current | Last value returned from the query
| Total | Sum of all values returned from metric query
| Decimals | Overrides automatic decimal precision for legends and tooltips.
|===

=== Stacking and Hover

image::graph-advanced-stack-hover.png[Advanced Graph Settings: Stack and Hover]

A hover tooltip displays data for a time point in a graph when you hover over that data.

.Hover Tooltip
[cols="1,4"]
|===
| Mode | For displaying one or all series in the tooltip.
| Sort Order | Displays data in no order (None), Decreasing or Increasing order. Defaults to None.
| Stacked Value  a|
Available when Stack is checked. Controls the display of values in the tooltip:

* Individual: The value for the series you hover over.
* Cumulative: *TODO* Sum of series below plus the series you hover over.
|===

Stacking and Null functionality allows you to display multiple series as a group within a stack. You can also specify how to deal with null values.

.Stacking and Null
|===
| Stack | When checked, stacks each series, one on top of another.
| Percent | Available when Stack is checked. Displays each series in the stack as its percentage of the total.
| Null Value | Determines how to display null values: Connected, Null, Null As Zero
|===

=== Threshold

*TODO*

=== Time Range Shift

*TODO*

|===
| Override Relative Time | *TODO* Last `1 h`
| Add Time Shift | *TODO* Amount `1 h`
| Override Relative Time | Checkbox for *TODO*
|===

After you complete your configuration, you can click Save Changes or exit the configuration without saving and return to the dashboard by clicking the `X`.
