= Mule Runtime 3.8.6 Release Notes 
:keywords: mule, 3.8.6, runtime, release notes 
 
*Dec 15, 2017* 
 
Mule Runtime 3.8.6 includes the following enhancements, changes, and fixes: 
 
* <TO_COMPLETE> 
 
 
This release is supported on Anypoint Private Cloud Edition 1.6.1 and later. 
 
== Key Enhancements 
 
Key Enhancements 
 
* <TO_COMPLETE> 
 
 
== Changes 

* MULE-14169: Remove Drools module from distribution (check the Drools doc for details in case you need to use it: https://docs.mulesoft.com/mule-user-guide/v/3.8/drools-module-reference)
* <TO_COMPLETE>

 
== Software Compatibility Testing 
 
Mule was tested on the following software: 
 
[%header,cols="15a,85a"] 
|===
|Software |Version
| JDK | JDK 1.7.0, JDK 1.8.0 (Recommended JDK 1.8.0_151/52)
| OS | MacOS 10.11.x, HP-UX 11i V3, AIX 7.2, Windows 2016 Server, Windows 10, Solaris 11.3, RHEL 7, Ubuntu Server 16.04
| Application Servers | Tomcat 7, Tomcat 8, Weblogic 12c, Wildfly 8, Wildfly 9, Websphere 8, Jetty 8, Jetty 9
| Databases | Oracle 11g, Oracle 12c, MySQL 5.5+, DB2 10, PostgreSQL 9, Derby 10, Microsoft SQL Server 2014
|=== 
 
The unified Mule Runtime 3.8.6 and API Gateway is compatible with APIkit 3.8.6. 
 
This version of Mule runtime is bundled with the Runtime Manager Agent plugin version 1.9.2. 
 
== Fixed Issues 
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
// Fixed Issues 
| MULE-14135 | getFullStackTrace has to be added to ExceptionUtils to guarantee retrocompatibility 
| MULE-14133 | Change DISCARD and DISCARD_OLDEST behavior so that the http connector does not timeout 
| MULE-14115 | In Db Module, CLOB implementation is JDBC version dependant. 
| MULE-14098 | When resolving importBase for JAR files in WSDL solving, Unix separator has to be preserved 
| MULE-14053 | Update commons-io to 2.6 to avoid problems when deserialize primitive types 
| MULE-14035 | Automatic retry on remote Closed exception does not respect RFC 7320 
| MULE-14030 | SAXParseException when trying to import nested xsd 
| MULE-14024 | Create system property to pass copy event in exception handling in enricher in 3.8.x 
| MULE-14019 | Deserialization does not handle primitive types 
| MULE-14009 | Mule context not disposed if doTearDown method fails 
| MULE-14004 | TransactionManager and TransactionManagerFactory definition should be mutually exclusive 
| MULE-13978 | SFTP logging does not mask credentials when special regex chars in password 
| MULE-13974 | ObjectToJMSMessage does not register source types 
| MULE-13970 | MEL expression not working for null optional property 
| MULE-13969 | SFTP receiver reconnection is invoking exceptionListener twice. 
| MULE-13963 | idempotent-message-filter throws null pointer exception when onUnaccept forwards to a sub-flow 
| MULE-13941 | Dynamic flow reference from a For-Each causes 'ConcurrentModificationException'
| MULE-13935 | In Message Filter, unacceptedMessageProcessor is not being notified 
| MULE-13934 | Failure when attempting to access an XSD file with an WSDL with an HTTP/HTTPS base path 
| MULE-13933 | MVEL functions with object instantiations doesn't work well in heavy load. 
| MULE-13916 | Race condition when firing rules from concurrent threads in drools module 
| MULE-13833 | Change default sslType to use the JVM's one. 
| MULE-13825 | Users must be able to set the name of a stream inside encrypted file of PGP 
| MULE-13811 | EventGroup is not disposing unused object store partitions 
| MULE-13788 | Oauth authentication using refreshTokenWhen parameter is not retaining attachments and properties 
| MULE-13761 | Add serial version UID in SimpleDataType to allow migration in case of changes from older version 
| MULE-13746 | Race condition when verifying group expiration just before resequencer finishes 
| MULE-13738 | Is not possble to tell in some DeploymentListener notifications if they're fired by an app or domain 
| MULE-13737 | SftpClient are not released in permission failure scenarios. 
| MULE-13732 | GraphTransformerResolver is not handling correctly concurrency access 
| MULE-13729 | Collection Aggregator does not honor the arrival order 
| MULE-13723 | Support out-of-browser applications in OAuth module redirect url 
| MULE-13718 | ClusterCoreExtension is not being loaded as a domain deployment listeners 
| MULE-13698 | PollingReceiverWorker should clean RequestContext after performing poll. 
| MULE-13678 | When more than one regex is used as a file system, trim is not performed 
| MULE-13585 | XSD's imported in WSDL referenced as bare file results in warning while creating request body 
| MULE-13582 | In domain scenarios, MuleMessage is losing its original context after MuleClient.request() 
| MULE-13577 | Statements not closed on when searching metadata 
| MULE-13558 | Http requesters built with the same tlsContext are not cached 
| MULE-13490 | In WSC resolution of URIs containing a long concatenation of relative paths fails 
| MULE-13476 | In Message Filter, unaccepted processor doesn't modify message nor payload 
| MULE-13469 | WSDL parsing fails with nested included/imported XSDs 
| MULE-13398 | Propagation of SSL prevents Jackson serialization of InboundProperties 
| MULE-13326 | Http non-blocking error handler nor cleaning thread local
| MULE-13296 | SMTP Transformer is not overriding endpoints attributes in the same flow. 
| MULE-13286 | FTP is not honoring connection timeout in some particular scenarios. 
| MULE-13280 | In File Endpoints, FileAge is not always honored. 
| MULE-13246 | Cxf proxy does not retrieve the correct XMLStreamReader in the payload if interceptors are involved
| MULE-12551 | Fix commons-beanutils vulnerability
| EE-5762 | BitronixTransactionManager can't be referenced from Spring beans.
| EE-5760 | BatchJobInstance does not wait for all dispatched records to finish before shutting down 
| EE-5723 | Fix Serialization problems when AMQP and Caching Strategy are used together. 
| EE-5689 | Batch test cases do not dispose context if final assertions fail 
| EE-5686 | When stopping a cluster, dispose is not invoked 
| EE-5595 | Database object store in cluster does not use a pool of jdbc connections 
| EE-5570 | When create table is a cluster db store the transaction must be committed 
| EE-5563 | An option to set Hazelcast transactions as TWO_PHASE should be available 
| EE-5521 | Race condition when finishExecution in batch blocks dispatcher for any job till on complete phase finishes 
| EE-5384 | In WS endpoint, queue is a required attribute when It shouldn't

// Enhancement Request Issues
| MULE-13175 | Upgrade ahc and grizzly to 1.13 and 2.3.31 respectively 
| MULE-12961 | WSC: Add support for WS-SecurityPolicy. 
| MULE-9218 | Http Calls performance degrades after time due grizzly connection pool. 
| MULE-7081 | SFTP sizeCheckWaitTime should be applied per poll cycle instead of per file 
| EE-5646 | Add callables library in EE distributions for hazelcast client mode 
| EE-5448 | Merge changes for Remote Hazelcast changes into 3.9.x and potentially 3.8.x 
|=== 
 
== Known Issues 
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
| MULE-13304 | Log exception that may occur in notification processing 
| MULE-13174 | Subreceivers in AMQP begin to receive messages before the app is fully started 
|===
 
== LibraryChanges 
 
[%header,cols="15a,85a"] 
|===
|Issue |Description
| MULE-14172 | Upgrade Jackson 1 to 1.9.14 
| MULE-14144 | Upgrade Spring LDAP to 2.3.2 
| MULE-14052 | Upgrade MVEL to 2.1.9-MULE-013 version. 
| MULE-12766 | Move from AHC (async-http-client) to Grizzly AHC (grizzly-http-client) version 1.14
| MULE-13336 | Update Grizzly to version 2.3.33
| MULE-13443 | Upgrade CXF to 2.7.19-MULE-002 patch release. 
| MULE-13176 | Upgrade commons-validator to 1.6
| MULE-14053 | Update commons-io to 2.6
| EE-5792 | Upgrade Jackson to version 2.8.10.
|===
 
== Issues Impacting Migration 
 
N/A
 
