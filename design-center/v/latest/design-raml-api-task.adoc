= Example of Creating an API Specification with the RAML Editor

_Requires November 2017 Release_

This procedure covers how to design a simple API that consumes the free online REST service JSONPlaceholder. The API has two resources: `/users` and `/usersbyid`. The API design supports requesting information about all users, or using an HTTP query parameter, requesting information about a particular user. In a real-world situation, you design the API to handle responses for all common HTTP status codes: 200, 400, 401, 404, 405, 406, and 415. For simplicity, you include code only for the HTTP status code 200 for receiving a valid request.

The complete code for this procedure to copy and paste appears at the end of this topic.

. On the *Projects* page of the Design Center, create a project for a new API specification.
.. In Projects, click *Create* and select *API Specification*.
.. In the *New API Specification* dialog, specify a name for your new project. For example, type `placeholder`.
.. Select the option *Start with API Designer*.

+
_Result:_ After you click *Create*, you see that:

* The new `.raml` file `placeholder.raml` is listed and is selected in the Files panel
* These two lines appear in the center panel as the beginning of the API specification:
+
....
#%RAML 1.0
title: placeholder
....
+
* In the third panel, the mocking service is switched off and the API summary is blank.
+
image::raml-editor-placeholder-project-new.png[align="center"]

. In the RAML editor, create a new blank line.
+
The keywords that you can type at the current cursor position appear at the bottom of the panel. You can either click a keyword to add it to the specification or type it. If you don't see the list of keywords, type *CTRL+space*. As you type a keyword, the editor suggests keywords based on the letters that you have typed. Type the *Tab* key to accept a suggestion.

. Version the specification `1.0` by adding the line `version: 1.0`.

. Add the keyword `baseUri` and use the following URI for the value:
`+http://jsonplaceholder.typicode.com+`.
+
. Include a resource named `/users`.
.. On the next line of the specification, type `/users:`.
+
----
...
baseUri: http://jsonplaceholder.typicode.com
/users:
----
+
.. Specify a `GET` method to retrieve the information defined in `+http://jsonplaceholder.typicode.com+`.

... Add a new line after `/users:`.
... Type a space to indent one level.
... Type *Ctrl+Space*.
... Select `get`.
.. On the next line, indent one level and add a description of the `GET` method. Use this text: `Retrieve a list of all the users`

.. Include the HTTP response 200.
+
_Result:_ At this point, the API specification looks like this:

+
----
#%RAML 1.0
title: placeholder
version: 1.0
baseUri: http://jsonplaceholder.typicode.com
/users:
  get:
    description: Retrieve a list of all the users.
    responses:
      200:
        body:
----

. Import a JSON example:
+
* On your file system, create a `user-example.json` having the following content:
+
----
[{
              "id": 1,
              "name": "Leanne Graham",
              "username": "Bret",
              "email": "Sincere@april.biz",
              "address": {
                "street": "Kulas Light",
                "suite": "Apt. 556",
                "city": "Gwenborough",
                "zipcode": "92998-3874",
                "geo": {
                  "lat": "-37.3159",
                  "lng": "81.1496"
                }
                },
              "phone": "1-770-736-8031 x56442",
              "website": "hildegard.org",
              "company": {
                "name": "Romaguera-Crona",
                "catchPhrase": "Multi-layered client-server neural-net",
                "bs": "harness real-time e-markets"
              }
}]
----
+
* Click Files > Import.
+
image:files-import.png[files import,height=97,width=295]
+
* Choose File or ZIP, and browse to and import the user-example.json file.
* In Files, select the name of the API specification placeholder.raml to go back to the RAML code. In the RAML editor, type add the following lines to the code:
+
----
...
      application/json:
        example: !include user-example.json
----
. At one indentation from the root, define the following resource:
+
----
 /userbyid:
    get:
      description: Get information about a particular user
      queryParameters:
        id:
          description: Specify the id of the user you want to retrieve
          type:        integer
          required:    false
          example: 3
      responses:
        200:
          body:
            application/json:

----
+
Define the response and example response for the GET method.
+
----
              example: |
                [{
                "id": 3,
                "name": "Clementine Bauch",
                "username": "Samantha",
                "email": "Nathan@yesenia.net",
                "address": {
                  "street": "Douglas Extension",
                  "suite": "Suite 847",
                  "city": "McKenziehaven",
                  "zipcode": "59590-4157",
                  "geo": {
                    "lat": "-68.6102",
                    "lng": "-47.0653"
                  }
                },
                "phone": "1-463-123-4447",
                "website": "ramiro.info",
                "company": {
                  "name": "Romaguera-Jacobson",
                  "catchPhrase": "Face to face bifurcated interface",
                  "bs": "e-enable strategic applications"
                } }]
----

== RAML Code

The complete RAML code for this task is:

----
#%RAML 1.0
title: placeholder
version: 1.0
baseUri: http://jsonplaceholder.typicode.com
/users:
  get:
    description: Retrieve a list of all the users
    responses:
      200:
        body:
          application/json:
            example: !include user-example.json
  /userbyid:
    get:
      description: Get information about a particular user
      queryParameters:
        id:
          description: Specify the id of the user you want to retrieve
          type:        integer
          required:    false
          example: 3
      responses:
        200:
          body:
            application/json:
              example: |
                [{
                "id": 3,
                "name": "Clementine Bauch",
                "username": "Samantha",
                "email": "Nathan@yesenia.net",
                "address": {
                  "street": "Douglas Extension",
                  "suite": "Suite 847",
                  "city": "McKenziehaven",
                  "zipcode": "59590-4157",
                  "geo": {
                    "lat": "-68.6102",
                    "lng": "-47.0653"
                  }
                },
                "phone": "1-463-123-4447",
                "website": "ramiro.info",
                "company": {
                  "name": "Romaguera-Jacobson",
                  "catchPhrase": "Face to face bifurcated interface",
                  "bs": "e-enable strategic applications"
                } }]
----

== See Also

* link:/design-center/v/1.0/simulate-api-task[To Simulate Calling a RAML API]
* link:/design-center/v/1.0/design-branch-filelock-concept[About Sharing Branches and Locking]
* link:/design-center/v/1.0/design-api-v-concept[Visual Design]
