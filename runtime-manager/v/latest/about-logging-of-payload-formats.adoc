= About Logging of Payload Formats (Hybrid / PCE)

To send message payload data to external analytics software, the data must be serialized and converted to text. However, some payload formats cannot be converted to plain text. In these cases, Runtime Manager Agent recognizes formats that cannot be converted and only converts data elements that can be converted.

When the payload format is not in a convertible format, the agent only passes on the fully qualified name of the payload class type. It does not pass the contents of the payload.

[NOTE]
This only applies to version Runtime Manager Agent, version 1.6.3 or later. Previous versions attempt to convert all formats, which can cause failure.

== Default Conversion Behavior

The following table shows which data formats the Runtime Manager agent converts to strings.

[%header,cols="15,35,25,20"]
|===
|Extension |	Kind of document|	MIME Type|	Converted to String
|.epub	|Electronic publication (EPUB)|	application/epub+zip|	FALSE
|.jar	|Java Archive (JAR)	|application/java-archive|	FALSE
|.js	|JavaScript (ECMAScript)|	application/javascript|	TRUE
|.json	|JSON format|	application/json|	TRUE
|.doc	|Microsoft Word|	application/msword|	FALSE
|.arc	|Archive document (multiple files embedded)|	application/octet-stream|	FALSE
|.bin	|Any kind of binary data|	application/octet-stream|	FALSE
|.ogx	|OGG|	application/ogg|	FALSE
|.pdf	|Adobe Portable Document Format (PDF)|	application/pdf|	FALSE
|.rtf	|Rich Text Format (RTF)|	application/rtf|	TRUE
|.azw	|Amazon Kindle eBook format|	application/vnd.amazon.ebook|	FALSE
|.mpkg	|Apple Installer Package|	application/vnd.apple.installer+xml|	FALSE
|.xul	|XUL|	application/vnd.mozilla.xul+xml|	TRUE
|.xls	|Microsoft Excel|	application/vnd.ms-excel|	FALSE
|.ppt	|Microsoft PowerPoint|	application/vnd.ms-powerpoint|	FALSE
|.odp	|OpenDocuemnt presentation document|	application/vnd.oasis.opendocument.presentation|	FALSE
|.ods	|OpenDocuemnt spreadsheet document|	application/vnd.oasis.opendocument.spreadsheet|	FALSE
|.odt	|OpenDocument text document|	application/vnd.oasis.opendocument.text|	FALSE
|.vsd	|Microsoft Visio	|application/vnd.visio|	FALSE
|.7z	|7-zip archive	|application/x-7z-compressed|	FALSE
|.abw	|AbiWord document	|application/x-abiword|	FALSE
|.bz	|BZip archive	|application/x-bzip|	FALSE
|.bz2	|BZip2 archive	|application/x-bzip2|	FALSE
|.csh	|C-Shell script	|application/x-csh|	TRUE
|.rar	|RAR archive	|application/x-rar-compressed|	FALSE
|.sh	|Bourne shell script	|application/x-sh|	TRUE
|.swf	|Small web format (SWF) or Adobe Flash document|	application/x-shockwave-flash|	FALSE
|.tar	|Tape Archive (TAR)|	application/x-tar|	FALSE
|.xhtml	|XHTML|	application/xhtml+xml|	TRUE
|.xml	|XML|	application/xm|l	TRUE
|.zip	|ZIP archive|	application/zip|	FALSE
|.aac	|AAC audio file|	audio/aac|	FALSE
|.mid .midi|	Musical Instrument Digital Interface (MIDI)|	audio/midi|	FALSE
|.oga	|OGG audio|	audio/ogg|	FALSE
|.weba	|WEBM audio|	audio/webm|	FALSE
|.wav	|Waveform Audio Format|	audio/x-wav|	FALSE
|.ttf	|TrueType Font|	font/ttf|	FALSE
|.woff	|Web Open Font Format (WOFF)|	font/woff|	FALSE
|.woff2	|Web Open Font Format (WOFF)|	font/woff2|	FALSE
|.gif	|Graphics Interchange Format (GIF)|	image/gif|	FALSE
|.jpeg .jpg|	JPEG images|	image/jpeg|	FALSE
|.svg	|Scalable Vector Graphics (SVG)|	image/svg+xml|	TRUE
|.tif |.tiff	Tagged Image File Format (TIFF)|	image/tiff|	FALSE
|.webp	|WEBP image|	image/webp|	FALSE
|.ico	|Icon format|	image/x-icon|	FALSE
|.ics	|iCalendar format|	text/calendar|	TRUE
|.css	|Cascading Style Sheets (CSS)|	text/css|	TRUE
|.csv	|Comma-separated values (CSV)|	text/csv|	TRUE
|.htm |.html	HyperText Markup Language (HTML)|	text/html|	TRUE
|.txt	|Plain Text|	text/plain|	TRUE
|.3gp	|3GPP audio/video container	|video/3gpp audio/3gpp if it doesn't contain video|	FALSE
|.3g2	|3GPP2 audio/video container	|video/3gpp2 audio/3gpp2 if it doesn't contain video|	FALSE
|.mpeg	|MPEG Video	|video/mpeg|	FALSE
|.ogv	|OGG video	|video/ogg|	FALSE
|.webm	|WEBM video	|video/webm|	FALSE
|.avi	|AVI: Audio Video Interleave|	video/x-msvideo|	FALSE
|	|Multipart|	"multipart/mixed, multipart/alternative, multipart/digest multipart/parallel"	|FALSE||
|===



== Custom Conversion Examples

You can override the default behavior by configuring the agent to forward all payload formats or none. This behavior is configured in the `conf/mule-agent.yml` file. 

You can also force the exclusion of certain formats from the external logs. This may be because of security concerns around shearing certain types of data.

=== To force exclusion on a specific application:
----
    mule.agent.tracking.service:
        globalTrackingLevel: DEBUG
        enabled: true
        trackedApplications:
            - appName: someApp
              trackingLevel: DEBUG
              payloadExcluded: true
----

=== To force exclusion globally:
----
    mule.agent.tracking.service:
        globalTrackingLevel: DEBUG
        enabled: true
        globalPayloadExclusion: true
----

You can also force the conversion and forwarding of formats that are not convertible.

[NOTE]
When forcing conversion, there is a risk of breaking the payload.

=== To force inclusion on a specific application
----
    mule.agent.tracking.service:
        globalTrackingLevel: DEBUG
        enabled: true
        trackedApplications:
            - appName: someApp
              trackingLevel: DEBUG
              forcePayloadInclusion: true
----

=== To force inclusion globally:
----
    mule.agent.tracking.service:
        globalTrackingLevel: DEBUG
        enabled: true
        forceGlobalPayloadInclusion: true
----

== See Also

* link:/runtime-manager/sending-data-from-arm-to-external-analytics-software[To Export Data to External Analytics Tools]
* link:/runtime-manager/managing-servers[Managing Servers]
* link:/runtime-manager/monitoring[Monitoring Applications]
* link:/runtime-manager/deploying-to-your-own-servers[Deploy Applications to your Own Servers]
* link:/runtime-manager/managing-deployed-applications[Managing Deployed Applications]
* link:/runtime-manager/managing-applications-on-your-own-servers[Managing Applications on Your Own Servers]
* link:/runtime-manager/runtime-manager-api[REST APIs]
