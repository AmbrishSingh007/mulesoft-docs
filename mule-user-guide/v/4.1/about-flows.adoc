= Flows
:keywords: anypoint studio, studio, mule esb, orchestration

A flow is a Mule component that allows you to order Mule event processors (such as connectors and other components) in a valid arrangement to automate integration processes.

A flow is in essence a chain of event processors. Typically, a flow starts with an event source. When the event source is triggered (for example, through an HTTP Listener), a Mule event is created.

image::about-flows-ef7ca.png[about-flows-ef7ca]

When an event is received or generated by the event source, the flow starts, and the configured event processors are invoked in a chain in the same order as they are configured.

Some event processors accept child event processor elements, which are processed before the remaining processors in the flow are processed.

image:about-flows-98a17.png[about-flows-98a17]

Flows can connect and trigger other flows.

There are two ways of connecting flows:

* Through an endpoint, which uses transports (such as HTTP or JMS connectors) to connect the flow to external flows or services.
* Through a Flow Reference component, which connects flows within the Mule app.

== See Also

* link:/mule-user-guide/v/4.0/about-event-source[About Event Sources]
* link:/mule-user-guide/v/4.0/about-event-processors[About event processors]

// COMBAK: This flow explanation is not suitable for Mozart users.
// == Flow Configuration
//
// //TODO: Check if the Exception Strategy is the same with the new Error handling
// A Flow is configured in XML using the <flow> element. Each flow has a name attribute, an event source, one or more event processors and an optional exception strategy.
//
// *Basic Structure*
//
// [source,xml, linenums]
// ----
// <flow name="">
//     - 0..1 EventSource
//     - 1..n EventProcessor(s)
//     - 0..1 ExceptionStrategy
// </flow>
// ----
//
// == Example
//
// *Simple Book Order Processing Flow*
//
// //TODO: Update this example
// [source,xml, linenums]
// ----
// <flow>
//     <file:inbound-endpoint path="/myDirectory">
//         <file:filename-filter name="*.xml"/>
//     </file:inbound-endpoint>
//     <xml:xslt-transformer xsl-file="bookOrderTransformation.xsl"/>
//     <splitter expression="xpath://order"/>
//     <!-- The following event processors will be invoked for each order in the xml file -->
//     <expression-filter expression="xpath://order[@type='book']"/>
//     <component class="org.my.BookOrderProcessor"/>
//     <smtp:outbound-endpoint subject="Order Confirmation" address=""/>
//     <jdbc:outbound-endpoint />
//     <default-exception-strategy>
//         <jms:outbound-endpoint queue="failedOrders"/>
//     </default-exception-strategy>
// </flow>
// ----
// COMBAK: Are private flows going to be deprecated?
// == Private Flows
//
// A private flow is one that cannot be accessed from outside the JVM via a link:/mule-user-guide/v/3.8/endpoint-configuration-reference[Mule Endpoint] because it has no message source defined.
//
// Private Flows are therefore only used if they are referenced from another construct running in the same Mule instance. When configuring Mule using XML the _<flow-ref>_ element is used to include one flow in another.
//
// A private Flow differs from the use of a "Processor Chain" in that a Flow has it's own context and exception strategy where as when a processor chain is referenced, it is executed in the context of the flow that references it.
//
// *Private Flow Example*
//
// [source,xml, linenums]
// ----
// <flow name="privateFlow">
//   <append-string-transformer message="b"/>
// </flow>
//  
// <flow name="publicFlow">
//   <http:inbound-endpoint address="http://localhost:8080"/>
//   <append-string-transformer message="a"/>
//   <flow-ref name="privateFlow"/>
//   <append-string-transformer message="c"/>
// </flow>
// ----
