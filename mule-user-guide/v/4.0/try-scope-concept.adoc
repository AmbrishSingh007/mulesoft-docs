= Try Scope

The Try scope allows you to handle errors that may occur when attempting to execute any of the components inside the Try scope. It also supports transactions.

== Error Handling with the Try Scope

The Try scope has its own error handling strategy that you configure in the same way you configure error handling for a flow. It supports error handling on its inner components instead of the entire flow so that you do not have to extract them into a separate flow.

image::error-handling-try-scope.png[Error Handling with the Try Scope]
//image::component-try-config.png[Try Component Configuration]

Like all error handling, the Try scope can also distinguish between various error type conditions and apply different behaviors to each error type condition.

In the example above, any database connection errors (DB:CONNECTIVITY) are propagated because of the On Error Propagate (`on-error-propagate`) setting. Propagation of this error causes the Try process to fail and the flowâ€™s error handler to execute. Other errors are handled through On Error Continue (`on-error-continue`), so the Try is treated as successful when they occur, meaning that the next processor, an HTTP request, continues to execute.

It is important to note that if an error is raised within a flow, its error handler will be executed, and the error will be routed to the matching handler. At this point, the error is available for inspection, so the handlers could execute and act accordingly:

* An On Error Continue will execute and use the result of the execution as the result of its owner, as if the owner actually completed the execution successfully. Any transactions at this point are also committed.
* An On Error Propagate will roll back any transactions, execute, and use that result to rethrow the existing error, meaning that its owner will be considered as failing.

== Handling Transactions

You configure a Try scope so that it treats its child operations as an indivisible transaction. A transaction is a series of actions that should never be partially executed. Every operation within the scope of a transaction is executed in the same thread, and errors should lead to either a rollback or a commit.

image::error-handling-try-scope-config.png[Try Scope Configuration]

The Try scope treats child operations as a transaction when the Transactional Action (`transactionalAction`) is set to `ALWAYS_BEGIN` or `BEGIN_OR_JOIN`. It can be configured in the following ways:

* Ignore (`INDIFFERENT`):
+
Default. Actions are not treated as a transaction. Errors cause no rollbacks or commits.

* Always Begin (`ALWAYS_BEGIN`)
+
A new transaction is started every time the scope is executed.

* Begin or Join (`BEGIN_OR_JOIN`)
+
Only relevant in cases where execution order may vary (for example, due to asynchronous actions occurring outside the flow): If the current processing of the flow has already begun a transaction, join it. Otherwise, begin a new one.

== See Also

* link:try-scope-xml-reference[Try Scope XML Reference]
* link:transaction-management[Transaction Management]
* link:error-handling[About Error Handling]
* link:scopes-concept[About Scopes]
