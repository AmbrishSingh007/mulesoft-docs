= Try Scope

The Try scope allows you to handle errors that may occur when attempting to execute any of the components inside the Try scope. It also supports transactions.

== Handling Transactions

You configure a Try scope so that it treats its child operations as an indivisible transaction. A transaction is a series of actions that should never be partially executed. Errors should lead to either a rollback or a commit.

image::error-handling-try-scope-config.png[Try Scope Configuration]

The Try scope can be set to treat the components within it as a transaction. It can be configured in the following ways:

* Ignore (`INDIFFERENT`):
+
Default. Actions are not treated as a transaction. Errors cause no rollbacks or commits.

* Always Begin (`ALWAYS_BEGIN`)
+
A new transaction is started every time the scope is executed.

* Begin or Join (`BEGIN_OR_JOIN`)
+
Only relevant in cases where execution order may vary (for example due to asynchronous actions happening outside the flow). If the current processing of the flow has already begun a transaction, join it. Otherwise, begin a new one.

== Error Handling with the Try Scope

The Try scope has its own error handling strategy that you configure in the same way you configure error handling for a flow. It supports error handling on its inner components instead of the entire flow so that you do not have to extract them into a separate flow.

image::error-handling-try-scope.png[Error Handling with the Try Scope]
//image::component-try-config.png[Try Component Configuration]

Like all error handling, the Try scope can also distinguish between various error type conditions and apply different behaviors to each error type condition.

In the example above, any database connection errors (DB:CONNECTIVITY) are propagated because of the On Error Propagate setting. Propagation of this error causes the Try process to fail and the flow’s error handler to execute. Other errors are handled through On Error Continue, so the Try is treated as successful when they occur, meaning that the next processor, an HTTP request, continues to execute.

////
Helpful for migration guide info:

One issue we’ve also addressed in Mule 4 is the need for more fine-grained error handling. For the most part, Mule 3 only allows handling errors at the flow level, forcing you to extract logic to a flow in order to address errors.

In Mule 4, we’ve introduced a try scope that you can use within a flow to do error handling of just inner components. The scope also supports transactions––replacing the old transactional scope.
////

== See Also

* link:/mule-user-guide/v/4.0/try-scope-xml-reference[Try Scope XML Reference]
* link:/mule-user-guide/v/4.0/error-handling[About Error Handling]
* link:/mule-user-guide/v/4.0/scopes-concept[About Scopes]
