= DataWeave Variables for Retrieving Mule Contexts

DataWeave expressions accept variables that can retrieve values from a variety of Mule contexts. Commonly used variables include `attributes`, `payload`, and `vars`, the main parts of the Mule event.

[%header,cols="1s,2,3a"]
|===
|Variables |Description |Fields and Examples

|`app`
|A DataWeave artifact context for the Mule app.
|
[%hardbreaks]
* Fields:
** `encoding`: Encoding used by the Mule message processor.
** `name`: Name of your project and Mule app.
//`registry`: IS THIS STILL SUPPORTED? I GOT AN ERROR WITH app.registry.
** `standalone`: _TODO_: Returns `true` or `false`.
** `workDir`: Working directory for the Mule app. For Studio, this is an Eclipse plugin directory.
* Example: `#[app.encoding]` might return `UTF-8`.

|`attributes`
|Attributes (metadata) of a Mule Message object (`message`).
|
[%hardbreaks]
* Fields: Depends on the message type, such as HTTP request attributes.
* Example: `\#[attributes]` returns message attributes. For an HTTP request, `#[attributes.header]` returns HTTP header metadata, and `#[attributes.version]` might return `HTTP/1.1`.

|`authentication`
|Either authentication _TODO_ or `null`.
|
[%hardbreaks]
* Fields: No fields.
* Example: `_TODO_`

|`correlationId`
|_TODO_
|
[%hardbreaks]
* Fields: No fields.
* Example: `#[correlationId]` might return `0-f77404d0-e699-11e7-a217-38c9864c2f8f`.

|`dataType`
|Data type of the message payload.
|
[%hardbreaks]
* Fields: No fields.
* Example: `#[dataType]` might return `SimpleDataType`.

|`error`
|Error associated with a Mule message object.
|
[%hardbreaks]
* Fields: _TODO_
* Example: `_TODO_`

|`flow`
|An accessor to the flow.
|
[%hardbreaks]
* Fields: _TODO_
* Example: `_TODO_`

|`message`
|Package (`payload` and `attributes`) that the message processor is processing.
|
[%hardbreaks]
* Fields:
** `id`
** `rootId`
** `correlationId`
** `correlationSequence`
** `correlationGroupSize`
** `replyTo`
** `dataType`
** `payload`
* Example: `\#[message]`

|`mule`
|The Mule instance on which the application is running.
|
[%hardbreaks]
* Fields:
** `clusterId`: Cluster ID.
** `home`: Home directory.
** `nodeId`: Cluster Node ID.
** `version`: Mule version.
* Example: `#[mule.version]` might return `4.0.0`.

|`payload`
|The body of a Mule message object (`message`).
|
[%hardbreaks]
* Fields: No fields.
* Example: `#[payload]` returns the body of the message.

|`server`
|The operating system on which the message processor is running. It exposes information about both the physical server and JRE on which Mule runs.
|
[%hardbreaks]
* Fields:
** `env`: Map of operating system environment variables.
** `fileSeparator`: Character that separates components of a file path, which is `/` on UNIX and `\` on Windows.
** `host`: Fully qualified domain name for the server.
** `ip`: IP address of the server.
** `locale`: Default locale (`java.util.Locale`) of the JRE. Can be used language (`locale.language`), country (`locale.country`).
** `javaVendor`: JRE version
** `javaVersion`: JRE vendor name
// `nanoSeconds`  removed from Mule 4?
** `osArch`: Operating system architecture.
** `osName`: Operating system name.
** `osVersion`: Operating system version.
** `systemProperties`: Map of Java system properties.
** `timeZone`: Default time zone (`java.util.TimeZone`) of the JRE.
** `tmpDir`: Temporary directory for use by the JRE.
** `userDir`: User directory.
** `userHome`: User home directory.
** `userName`: User name.
* Example: `#[server.osName]` might return `Mac OS X`.

|`vars`
|A variable set on the Mule event. These variables only exist within the scope of the flow in which they are created.
|
[%hardbreaks]
* Fields: No fields.
* Example: `#[vars.myVar]` returns the value of `myVar`.
|===

////
_TODO_: For MIGRATION guide?
* message.`flowVars` and message.`sessionVars` not in Mule4
* apps.registry supported anymore?
* these message fields:
`inboundProperties`
`inboundAttachments`
`outboundProperties`
`outboundAttachments`
* server: `server.dateTime` removed from Mule 4?
////
