= Example: To Invoke methods
:keywords: Java, create instance
:toc:
:toc-title:

toc::[]

In this example we are going to show how to invoke instance methods.

[source, xml, linenums]
----
<java:new class="com.foo.TaxCalculator" constructor="TaxCalculator()" target="taxCalculator"/>
<java:invoke instance="#[vars.taxCalculator]" class="com.foo.TaxCalculator" method="init()"/>
----

In this example, we first create the instace on which the method will be invoked, and the we invoke a method which doesn't take any arguments.

[TIP]
You are not forced to actually crate the instance with the `<java:new>` operations, you can obtain it from anywhere else.
+
Now let's see how to invoke a method which does take arguments:

[source, xml, linenums]
----
<java:new class="com.foo.TaxCalculator" constructor="TaxCalculator()" target="taxCalculator"/>
<java:invoke instance="#[vars.taxCalculator]" class="com.foo.TaxCalculator" method="calculate(Long)">
    <java:args>#[payload.price]</java:args>
</java:invoke>
----

[TIP]
Just like with the `<java:new>` operation, you will get DataSense for both the output value and the input arguments

== Invoke static methods

It is also possible to invoke static methods:

[source, xml, linenums]
----
<java:invoke-static class="java.lang.Math" method="toRadians(double)">
    <java:args>#[{a: 180}]</java:args>
</java:invoke-static>
----

== Invoking methods using DataWeave

You can also invoke methods using DataWeave functions. This is specially helpful for methods which returns `boolean` values:

[source, xml, linenums]
----
<choice>
    <when expression="#[Java::invoke('com.foo.TaxCalculator', 'isTaxFree(Invoice)', vars.taxCalculator, {invoice: vars.invoice})]">
        <flow-ref name="skipTax" />
    </when>
</choice>
----